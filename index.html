<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Random BoM Verse</title>
  <script>
    // Full Book of Mormon structure: chapters and verses
    const bomStructure = {
      "1-ne":[20,24,31,38,22,6,22,38,22,22,36,23,42,30,36,39,55,25,24,34,26,31],
      "2-ne":[32,30,25,35,34,18,11,25,54,25,8,22,26,30,9,12,25,22,21,34,26,31,22,32,30,33,27,32,14,18,21,9,15],
      "jacob":[19,35,14,18,77,13,27],
      "enos":[27],
      "jarom":[15],
      "omni":[30],
      "w-of-m":[18],
      "mosiah":[18,41,27,30,15,7,33,21,19,22,29,37,35,12,31,15,20,35,29,26,38,16,39,25,24,39,37,20,47],
      "alma":[33,38,27,37,62,8,27,32,34,32,46,37,31,29,25,21,39,43,36,30,23,35,18,30,41,37,30,14,17,60,38,43,37,41,47,44,41,15,19,30,23,31,36,54,24,24,33,23,22,17,19,27,30,21,24,22,27,36,26,41],
      "hel":[34,14,37,26,52,41,29,28,26,19,46,26,26,31,17],
      "3-ne":[30,19,26,33,26,30,29,25,22,19,41,48,34,27,24,20,20,39,34,46,29,26,17,18,6,21,33,40,9,2],
      "4-ne":[49],
      "morm":[19,29,22,23,21,22,25,41,37],
      "ether":[43,25,28,19,6,30,27,26,34,34,23,41,31,34,37,12],
      "moro":[4,3,4,3,6,9,26,30,36,34]
    };

    // Pick random book
    const books = Object.keys(bomStructure);
    const book = books[Math.floor(Math.random() * books.length)];

    // Pick random chapter
    const chapters = bomStructure[book];
    const chapterIndex = Math.floor(Math.random() * chapters.length);
    const chapter = chapterIndex + 1;

    // Pick random verse
    const verseCount = chapters[chapterIndex];
    const verse = Math.floor(Math.random() * verseCount) + 1;

    // Gospel Library deep link
    const appUrl = `gospellibrary://content/scriptures/bofm/${book}/${chapter}.${verse}`;
    const webUrl = `https://www.churchofjesuschrist.org/study/scriptures/bofm/${book}/${chapter}.${verse}`;

    // Try to open app first, then fallback to website
    window.location = appUrl;
    setTimeout(() => { window.location = webUrl; }, 500);
  </script>
</head>
<body>
  <p>Opening random Book of Mormon verse...</p>
</body>
</html>
